---
title: CSS 构造块
---

#### Created:  2020-04-12 13:50:33

## 构造样式表

样式表不过是一种文本文件, 其中包含一个或多个（通过属性和值）决定网页某特定元素如何显示的规则。CSS 里有控制基本格式的属性（如 font-size 和 color）, 有控制布局的属性（如 position 和 float）, 还有决定访问者打印时在哪里换页的打印控制元素。CSS 还有很多控制项目显示或消失的动态属性, 可以用于创建下拉列表和其他交互性组件。

样式表中的每条规则都有两个主要部分：选择器（selector） 和声明块（declarationblock）。选择器决定哪些元素受到影响；声明块由一个或多个属性 - 值对（每个属性 -值对构成一条声明, declaration）组成, 它们指定应该做什么

![20200412140757](https://raw.githubusercontent.com/fengwei2002/Pictures_02/master/img/20200412140757.png)

样式规则由选择器（表示将对哪些元素进行格式化）和声明块（描述要执行的格式化）组成。声明块内的每条声明都是一个由冒号隔开、以分号结尾的属性 - 值对。声明块以前花括号开始, 以后花括号结束

![20200412141013](https://raw.githubusercontent.com/fengwei2002/Pictures_02/master/img/20200412141013.png)

构造样式规则的步骤：
1. 输入`selector`, 这里的 selector 表示希望进行格式化的元素
2. 输入 `{`（前花括号）开始声明块。
3. 输入`property:value`;, 其中 property 是 CSS 属性的名称, 描述要应用哪种格式；value 是该属性允许的选项之一。
4. 根据需要, 重复第 (3) 步。通常一行输入一个 property: value（一条声明）但这并非强制要求。
5. 输入 `}`, 结束声明块和样式规则。

## 添加注释：

`/*` 内容 `*/`

不能将一个注释嵌套在另一个注释内部

注释是很有用的组织工具。样式表很快就会变得很长, 因此, 组织好样式表对于保持 CSS 易于维护至关重要。通常, 将相关的规则放在一起, 形成分组, 并在每组前面放置一段描述性的注释

```css
/* GLOBAL NAVIGATION
---------------------------------- */
... rules for global nav ...
/* MAIN CONTENT
---------------------------------- */
... rules for main content ...
/* SIGN-UP FORM
---------------------------------- */
... rules for sign-up form ...
/* PAGE FOOTER
---------------------------------- */
... rules for page footer ...
```

>对样式表中的主要区域添加注释, 就可以保持样式表井然有序。下面的格式（使用大写字母和一条下划线）可以很清楚地标识分组的开始位置

可以将你认为可能引起问题的地方“注释掉”, 再在浏览器中刷新页面, 查看问题是不是解决了

如果样式表里的注释过多, 反而会难以阅读。要根据需要混合使用组织性注释和描述性注释。

## 理解继承

继承（inheritance）是 CSS 里一个很重要的概念。浏览器会将这份 HTML 理解为文档树。文档树有助于你理解 CSS。原因是, 当你为某个元素应用 CSS 属性时, 这些属性不仅会影响该元素, 还会影响其下的分支元素。也就是说, 这些下层的元素继承了其祖先元素的属性。只不过, 它们继承的可不是冷冰冰的钞票, 而是颜色、字体大小这样的东西。

![20200412141850](https://raw.githubusercontent.com/fengwei2002/Pictures_02/master/img/20200412141850.png)

继承可以简化样式表。设想你要为页面中的每个元素单独设置字体, 多么恐怖！在编写 CSS 时, 要牢记这一规则, 并有效地利用继承。

> 此外, 对大多数属性来说, 还可以使用 inherit 值强制进行继承

### 哪些属性会被继承：
文本
- color（颜色, a 元素除外）
- direction（方向）
- font（字体）
- font-family（字体系列）
- font-size（字体大小）
- font-style（用于设置斜体）
- font-variant（用于设置小型大写字母）
- font-weight（用于设置粗体）
- letter-spacing（字母间距）
- line-height（行高）
- text-align（用于设置对齐方式）
- text-indent（用于设置首行缩进）
- text-transform（用于修改大小写）
- visibility（可见性）
- white-space（用于指定如何处理空格）
- word-spacing（字间距）

列表
- list-style（列表样式）
- list-style-image（用于为列表指定定制的标记）
- list-style-position（用于确定列表标记的位置）
- list-style-type（用于设置列表的标记）

表格
- border-collapse（用于控制表格相邻单元格的边框是否合并为单一边框）
- border-spacing（用于指定表格边框之间的空隙大小）
- caption-side（用于设置表格标题的位置）
- empty-cells（用于设置是否显示表格中的空单元格）
  
页面设置（对于印刷物）
- orphans（用于设置当元素内部发生分页时在页面底部需要保留的最少行数）
- page-break-inside（用于设置元素内部的分页方式）
- widows（用于设置当元素内部发生分页时在页面顶部需要保留的最少行数）

其他
- cursor（鼠标指针）
- quotes（用于指定引号样式）

## 属性冲突

CSS 用层叠的原则来考虑样式声明, 从而判断相互冲突的规则中哪个规则应该起作用。首先, 你编写的样式如果与浏览器的默认样式冲突, 均以你编写的样式为准。在此基础上, CSS 用层叠的原则来考虑特殊性（specificity）、顺序（order）和重要性（importance）, 从而判断相互冲突的规则中哪个规则应该起作用。

遇到冲突时, 优先应用特殊性强的规则, 我们认为 id 选择器是最特殊的（因为它们在一个文件中必须是唯一的）。另一方面, 除了浏览器默认样式, 我们认为继承的样式是最一般的, 可以被任何其他规则覆盖。

### 顺序

有时候, 特殊性还不足以判断在相互冲突的规则中应该优先应用哪一个。在这种情况下, 规则的顺序就可以起到决定作用：晚出现的优先级高；例如, 直接应用在 HTML 元素上的规则（不推荐使用这种做法）被认为比外部样式表中或插在 HTML 文档顶部的特殊性相同的规则出现得更晚（因此优先级更高）。
### 重要性

如果这还不够, 可以声明一条特殊的规则覆盖整个系统中的规则, 这条规则的重要程度要比其他所有规则高。也可以在某条声明的末尾加上 `!important`, 比如 `p{ color:orange !important; }`（除非是在特殊情况下, 否则不推荐使用这种方法）。

## 属性的值

每个 CSS 属性对于它可以接受哪些值都有不同的规定。有的属性只能接受预定义的值。有的属性接受数字、整数、相对值、百分数、URL 或者颜色。有的属性可以接受多种类型的值。

### `inherit`

对于任何属性, 如果希望显式地指出该属性的值与对应元素的父元素对该属性设定的值相同, 就可以使用 inherit 值。例如, 假设有一个 article 元素, 其中包含几个段落。article 元素设置了一个边框。边框通常不会被继承, 因此 p { border: inherit; } 这条规则可以让这些段落获得相同的边框样式

### 预定义的值

大多数 CSS 属性都有一些可供使用的预定义值。例如, float 属性可被设为 left、right 或 none。与 HTML 不同, 不需要（也不能）将预定义的值放在引号里。实际上, 大多数 CSS 值, 无论是否为预定义的值, 都不需要加引号。（也有一些例外, 如超过一个单词的 font-family 名称, 以及要生成的内容。）

### 长度和百分数

很多 CSS 属性的值是长度。所有长度都必须包含数字和单位, 并且它们之间没有空格。例如 3em、10px, 。唯一的例外是 0, 它可以带单位也可以不带。效果是一样的, 因此 0 一般不带单位。

![20200412144803](https://raw.githubusercontent.com/fengwei2002/Pictures_02/master/img/20200412144803.png)

>必须显式指出长度的单位。在单位和数值之间应该没有空格

一个 em 的长度大约与对应元素的字号相等。例如, 对元素设置 margin-left: 2em 就代表将元素的左外边距设为元素字号的两倍。（当 em 用于设置元素的 font-size 属性本身）em 的这种相对性对如今的网站建设工作来说是至关重要的, 尤其是对那些需要适应不同屏幕尺寸的网站来说

像素（px）并不是相对于其他样式规则的。因此以 px 为单位的值不会像以 em 为单位的值那样受 font-size 设置的影响。不过, 在如今设备种类繁多的情况下, 已经很难再准确度量一个像素的实际大小了。某种设备上一个像素的大小不一定与另一种设备上的完全相等
![20200412145221](https://raw.githubusercontent.com/fengwei2002/Pictures_02/master/img/20200412145221.png)
>百分数通常是相对于父元素的。因此, 在这个例子中, 字号将被设为父元素字号的 80%

百分数（如 65%）的工作方式很像 em, 它们都是相对于其他值的值。出于这个原因, 百分数是创建我们很快就要学习的响应式网站的一个强大工具。

### 纯数字

只有极少数的 CSS 属性接受不带单位的数字, 如 3、0.65。其中最常见的就是 lineheight、z-index 和 opacity
![20200412145517](https://raw.githubusercontent.com/fengwei2002/Pictures_02/master/img/20200412145517.png)

###  URL

有的 CSS 属性允许开发人员指定另一个文件（尤其是图像）的 URL, `backgroundimage`就是这样一个属性。在这种情况下, 使用 `url(file.ext)`, 其中 file.ext 是目标资源的路径和文件名。注意：相对 URL 应该相对于样式表的位置而不是相对于 HTML 文档的位置。

![20200412145738](https://raw.githubusercontent.com/fengwei2002/Pictures_02/master/img/20200412145738.png)

>CSS 属性中的 URL 无需使用引号包围

## CSS 颜色

我们可以使用预定义颜色关键字或以十六进制（通常称为 hex）、RGB、HSL、RGBA、HSLA 等格式表示的值中为 CSS 属性指定颜色。最后两种格式可以指定具有一定程度 alpha 透明度的颜色。HSL、RGBA 和 HSLA 格式都是在 CSS3 中引入的。

CSS3 颜色完整的列表见 [www.w3.org/TR/css3-color/#svg-color](www.w3.org/TR/css3-color/#svg-color)。

在实践中, 定义 CSS 颜色更常规的方法是使用十六进制格式（这是目前为止最为常见的方式）或 RGB 格式

![20200412151100](https://raw.githubusercontent.com/fengwei2002/Pictures_02/master/img/20200412151100.png)

如果一个十六进制颜色是由三对重复的数字组成的, 如 #ff3344, 可以缩写为 #f34。这种做法也是一种最佳实践, 因为没有理由让代码无谓地变长。

CSS3 引入了另一种指定颜色的方式——HSL,  以 及 通 过 RGBA 和 HSLA 设 置 alpha透明度的能力。（使用十六进制记法无法指示 alpha 透明度。）

可以在红、绿、蓝数值后面加上一个用以指定透明度的0到1之间的小数。语法如下：

alpha 设置越接近 0, 颜色就越透明。如果设为 0, 就是完全透明的, 就像没有设置任何颜色。类似地, 1 表示完全不透明。为了解释上面的说法, 下面给出了一些声明示例：

```css
/* 不透明, 和 rgb(89, 0, 127); 效果相同 */
background-color: rgba(89,0,127,1);
/* 完全透明 */
background-color: rgba(89,0,127,0);
/* 25% 透明 */
background-color: rgba(89,0,127,0.75);
/* 60% 透明 */
background-color: rgba(89,0,127,0.4);
``` 
### HSL 和 HSLA

HSL 和 HSLA 也 是 CSS3 中 新 增 的。HSLA 是除 RGBA 以外为颜色设置 alpha 透明度的另一种方式。用 HSLA 指定 alpha 透明度的方法与 RGBA 是一致的。

HSL 代表色相（hue）、饱和度（saturation）和亮度（lightness）, 其中色相的取值范围为0 ～ 360, 饱和度和亮度的取值均为百分数, 范 围 为 0 ～ 100%, 

CSS 中, HSL 语法为
`property: hsl(hue, saturation, lightness);`
HSLA 的格式为：
`property: hsla(hue, saturation,lightness, alpha transparency);`


```css
p {
    background-color: #3c8f00;
    /* for IE before IE9 */
    background-color: hsl(95, 100%, 28%);
    ...
}

/* 25% 透明度 */
.test-1 {
    background-color: hsla(95, 100%, 28%, .75);
}

/* 60% 透明度 */
.test-2 {
    background-color: hsla(95, 100%, 28%, .4);
}
```
>P 中声明的顺序是有要求的。旧版本的 IE 使用第一行, 因为它能理解这一行, 而现代浏览器对这两行都理解, 它会应用第二行的样式, 因为它出现在后面

学习 HSL 的逻辑需要花些时间, 但是一旦找到感觉, 你会发现它比其他的格式更容易使用。Brandon Mathis 在其 HSLColor Picker 网站的”Why?“（为何使用HSL）部分对这种格式有一段精彩的解释。

他写道：“选择一个 0 到 360 之间的色相, 并将饱和度设为 100, 亮度设为 50, 就会得到这种颜色最纯的形式。降低饱和度, 颜色就会向灰色变化。增加亮度, 颜色就会向白色变化；减少亮度, 颜色就会向黑色变化。”例如, 沿着圆环移动的过程中可以得到下面这些比较重要的颜色：

- 红色为 hsl(0,100%,50%);
- 黄色为 hsl(60,100%,50%);
- 绿色为 hsl(120,100%,50%);
- 青色为 hsl(180,100%,50%);
- 蓝色为 hsl(240,100%,50%);
- 紫红色为 hsl(300,100%,50%);

