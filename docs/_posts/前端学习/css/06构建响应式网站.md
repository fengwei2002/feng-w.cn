---
date: 2020-04-22
title: 构建响应式网站
category: Designer
tags:
  - CSS3
vssue-title: 构建响应式网站
---

了解如何构建在各种设备上都能正常工作的网站，它能根据设备的功能和特征对布局进行调整。
<!-- more -->
## 创建可伸缩图像

可以为img元素手动指定width和height高度，这样即便设备变小，图片还是指定大小

只有 HTML 中不包含 width 和 height属性，图像才有可能变成可伸缩的图像。还可以为图像添加用于添加样式的类

```html
<img src="img/gettyvilla.jpg" alt="" class="post-photo-full" />
<img src="img/victoria.jpg" alt="" class="post-photo" />
```

```css
.post-photo,
.post-photo-full {
    max-width: 100%;
}
```

但这样手机显示大小和加载速度不成正比，也不是太影响

>一定要使用 max-width: 100% 而不是width: 100%。它们都能让图像在容器内缩放，不过，width: 100% 会让图像尽可能地填充容器，如果容器的宽度比图像宽，图像就会放大到超过其本来尺寸，有可能会显得较为难看。

## 创建弹性布局网格

一般布局：

```css
.page {
  width: 960px;
}
main {
  width: 600px;
}
.sidebar {
  width: 300px;
}
```

创建弹性布局需要使用百分数宽度，并将它们应用于页面里的主要区域

```css
.page {
  max-width: 960px;
}
main {
 /* 要求宽度/包含块宽度使用600px/960px */
  width: 62.5%;
}
.sidebar {
  width: 31.25%; /* 300px/960px */
}
```

>要指定的宽度（以像素为单位）／容器宽度（以像素为单位）＝值

无论页面的视觉区域有多宽，各部分始终保持各自所占的比例。如果可视区域宽度超过 960像素，页面就停止变宽

## 理解和实现媒体查询

普通写法：只适用于打印的样式

```css
@media print {
   header[role="banner"] nav,
    .ad {
    display: none;
   }
}
```

媒体查询增强了媒体类型方法，允许根据特定的设备特性定位样式。要调整网站的呈现样式，让其适应不同的屏幕尺寸，采用媒体查询特别方便。下面列出了可以包含在媒体查询里的媒体特性。

- width（宽度）
- height（高度）
- device-width（设备宽度）
- device-height（设备高度）
- orientation（方向）
- aspect-ratio（高宽比）
- device-aspect-ratio（设备高宽比）
- color（颜色）
- color-index（颜色数）
- monochrome（单色）
- resolution（分辨率）
- scan（扫描）
- grid（栅格）

还有一些非标准的媒体特性，如
- -webkit-device-pixel-ratio（WebKit①设备像素比）
- -moz-device-pixel-ratio（Mozilla ② 设备像素比）

这些属性都可以使用min max属性

### 语法举例：

```html
<link rel="stylesheet" media="logic type and (feature: value)" href="your-stylesheet.css" />
```

```css
@media logic type and (feature: value) {
  /* 目标CSS样式规则写在这里 */
}
```


```css
/* 常规样式写在这里。每个设备都能获取它们，除非被媒体查询中的样式规则覆盖 */
body {
 font: 200%/1.3 sans-serif;
}
p {
 color: green;
}
/*
The logic is only.
The type is screen.
The feature: value is min-width: 480px.
*/
@media only screen and (min-width: 480px) {
    p {
        color: red;
        font-weight: bold;
    }
}
```

>logic（逻辑）部分是可选的，其值可以是 only 或 not。only 关键字可以确保旧的浏览器不读取余下的媒体查询，同时一并忽略链接的样式表。not 关键字可以对媒体查询的结果求反，让其反面为真。例如，使用 `media="notscreen"` 会在媒体类型为 screen 以外的任何类型时加载样式表。

>type（类型）部分是媒体类型，如screen、print 等。

>feature: value 对是可选的，但一旦包含它们，它们必须用括号包围且前面要有 and 这个字。feature 是预定义的媒体特性， 如 min-width、maxwidth 或者 resolution。 对 color、color-index 和 monochrome 特性来说，value 是可选的。

可以使用 and 将多个特性和值的组合串接起来，还可以创建一系列媒体查询（使用逗号分隔每个媒体查询）。在用逗号分隔的媒体查询列表中，如果有一个媒体查询为真，则整个媒体查询列表为

## 组合使用

>Screen Sizes 网站（http://screensiz.es）提供了流行设备和显示屏的分辨率和设备宽度信息。使用媒体查询的时候，这些信息可能很有用

- 构建响应式 Web 页面
   1. 创建内容和 HTML。
   2. 在 HTML 页 面 的 head 元 素 中， 输入 `<meta name="viewport" content="width=device-width" />` 或 `<meta name="viewport"content="width= device-width, initialscale=1" />`。
   3. 创建适用于所有设备的基准样式确保页面中的图像可伸缩。
   4. 识别出适合你的内容的断点。创建相关的媒体查询，让布局适应从小屏幕到大屏幕的不同可视区域宽度。
   5. 如果需要为第 (4) 步中页面的一些内容指定宽度，使用百分数。
   6. 选择你希望的旧版 IE 显示页面的方式。
   7. 开始测试。
   8. 根据需要，修改第 (3) ～ (5) 步中的CSS，并进行测试，直到页面在各种设备下都呈现出预期的效果。



