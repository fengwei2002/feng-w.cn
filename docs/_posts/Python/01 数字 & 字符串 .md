---
title: 数字、字符串 类型及操作
date: 2020-04-26
category: basics
vssue-title: 数字 & 字符串
tags:
  - Python
---

>python 无强类型限制，可以大数运算
<!-- more -->
## 整数类型

常用 `pow(x,y)`
来计算 x 的 y 次方，无内存限制，大数也能运算

十进制，二进制，八进制，十六进制都可以表示

## 浮点数类型

取值范围和小数精度存在限制 精度误差：$10^{-16}$，常规运算可以忽略

浮点数间的运算也存在不确定的尾数，和 C++ 一样

::: details 误差来源

:::

可以使用 `round(x,d)`: 对 x 四舍五入，d 是小数截取位数
来判断浮点数是否相等（手动规定比较位数，直到$10^{-16}$）

python 也提供 e 作为幂的符号
`<a>e<b>`== $a\times 10^{b}$, 负数也可以

## 复数类型

别的语言没有这种数据类型
$x^2=-1$ $x$ 即为一个复数

定义$j=\sqrt{(-1)}$

$a+bj$ 被称为复数，其中 a 是实部，b 是虚部

操作中用 `z.real` 获得一个复数的实部
用 `z.imag` 获得复数的虚部

一般用不着，科学人士才用吧

## 操作符

`+ - * /` 

除法产生的是浮点数结果，更符合常规认知，和 cpp 不同

`x//y` 就是整数除法 `10//3==3`

python 也引入了正负数

`+x` 为 x 本身
`-y` 表示 y 的负数

`x%y` 就是余数运算
`x**y`是 x 的幂运算，与`pow(x,y)`的效果一样

用时也采用了 cpp 中有时会变方便的二元操作符的规则 `+= -= *= /=`$\cdots$

python 不同类型可以直接运算，生成结果为宽类型

整数$\Rightarrow$浮点数$\Rightarrow$复数

## 数值运算函数

`abs(x)` 绝对值函数，同 cpp

`divmod(x,y)`同时输出商和余数
divmod(10,1)$\Rightarrow$ (3,1)

`pow(x,y,[z])`幂余函数等价于：$(x**y)\%z$ z 这个参数可以省略
可以用来计算一个幂结果的后几位数字，并且可以间接得到一些大的数字的相关信息
`pow(3,pow(3,99),10000) = 4587`

`round(x,[d])` d 为保留小数点的位数，默认值为 0

`max([n1],[n2])`,` min([n1][n2])` 用来计算最大值最小值

`int(x)` 将 x 变成一个整数，舍弃小数部分 int 全称为 integer（整数）

`float(x)` 将 x 变成浮点数，增加小数部分

`complex(x)` 将 x 变成复数，增加复数部分

***

## 字符串

用单引号或者双引号都可以表示一个字符串，仅表示单行字符串

用三个单（双）引号表示一个字符串，可以表示多行字符串

>（四种方式很好的处理了字符串中引号的出现）

```py
'''123
    45
     678 
       90
   '''
```

当程序中出现一个字符串，但是没有给到某一个变量中，或者没有使用，那么这个字符串就是多行注释

可以用 `\` 表示特定字符本意

### 索引

`<字符串>[M]`, M 可正可负`[-1]`为最后一个元素

### 切片：

`[M:N]` M 缺失表示到开头，N 缺失表示到结尾

`[M:N:K]` 根据步长 K 对字符串进行切片（跳着走）

`[::-1]` 即为字符串逆序输出

## 字符串操作符

| 操作符         | 作用               |
| -------------- | ------------------ |
| $x\ +\ y$      | 连接两个字符串 x,y |
| $n*x$ 或 $x*n$ | 复制 n 次字符串 x  |
| $x\ in\ s$     | 返回 true or false |

## 字符串处理函数
| 函数名          | 作用                                                                                           |
| --------------- | ---------------------------------------------------------------------------------------------- |
| $len(x)$:       | 用来计算字符串的长度汉字和英文字符的长度都相同                                                 |
| $str(x)$:       | 将任意类型阿 x 所对应的字符串形式                                                              |
| $hex(x)oct(x)$: | 整数的十六进制或者八进制小写形式字符串                                                         |
| $chr(u)ord(x)$: | 第一个函数将 Unicode 编码转换为对应字符并返回，ord 函数传入一个字符，返回其对应的 Unicode 编码 |

Unicode 编码是 python 采用的字符串编码方式，这是一种几乎覆盖所有字符的编码方式
从 0 到 1114111(0x10FFFF) 每一个编码都对应一个字符

10004 即为一个对勾字符：✔

可以用 end 参数用来规定 print 函数的结尾方式

## 字符串处理方法

python 中的字符串为一个对象

所以可以使用面向对象的`<a>.<b>`的方式调用字符串的处理方法
| name                            | effect                                                            |
| ------------------------------- | ----------------------------------------------------------------- |
| $str.upper()$                   | 全部转为大写字符                                                  |
| $str.lower()$                   | 全部转为小写字符                                                  |
| $str.split(sep=None)$           | 返回一个列表，由str根据sep字符被分隔的部分组成                    |
| $str.count()$                   | 用来计数的一个函数                                                |
| $str.replace(old,new)$          | 返回字符串str副本，所有old字串被替换为new                         |
| $str.center(sidth,[fiil-char])$ | 让字符串根据宽度居中，fillchar可选                                |
| $str.strip(chars)$              | 从str中去掉在其左侧和右侧chars中列出的字符                        |
| $str.join(iter)$                | 在iter变量除最后元素外每一个元素后增加一个str，主要用来字符串分割 |

## 字符串类型的格式化

$.format()$

`模板字符串.format(<逗号分隔的参数>)`

需要用槽来指定格式化时插入的位置

例如：

`"{1}:计算机{0}的CPU占用率为{2}%".format("2018-10-10","C",10)`

>并且可以同时手动指定参数的位置，默认为 012




