---
title: C++ 数据类型的相互转换
date: 2020-05-18
category: basics
tags:
  - C++
---

## 数值类型转为 string


1. 使用标准库函数std::to_string()
std命令空间下有一个C++标准库函数std::to_string()，可用于将数值类型转换为string。使用时需要include头文件<string>。

函数原型申明如下：

```cpp
string to_string (int val);
string to_string (long val);
string to_string (long long val);
string to_string (unsigned val);
string to_string (unsigned long val);
string to_string (unsigned long long val);
string to_string (float val);
string to_string (double val);
string to_string (long double val);
```


2. 使用函数模板+ostringstream
使用函数模板将基本数据类型（整型、字符型、实型、布尔型）转换成string。

```cpp
//ostringstream对象用来进行格式化的输出，常用于将各种类型转换为string类型
//ostringstream只支持<<操作符
template<typename T> string toString(const T& t){
    ostringstream oss;  //创建一个格式化输出流
    oss<<t;             //把值传递如流中
    return oss.str();   
}

cout<<toString(14.2)<<endl;  //实型->string：输出14.2
cout<<toString(12301)<<endl; //整型->string：输出12301
cout<<toString(123456789785)<<endl;//长整型->string：输出123456789785
cout<<toString(true)<<endl;  //布尔型->string：输出1
```